*********************
   LINUX  Directory                               
*********************
-------------------------------------------------------------------------------------------------------------------
Fonctionnement des répertoires dans Linux:
-----------------------------------------
Les directory sous linux
/	# racine
/etc 	#les fichiers de configuration de linux et des applications
	: la plupart des fichiers de configuration
/bin  	# stocke les exécutables et binaires essentiels
	:commande de base presque toutes les commandes sont externes non intégrées au shell.
/sbin 	#les exécutables et binaires du système
	:commands pour l’administration système
/boot 	# stocke les fichiers de démarrage de linux 
/dev 	#les fichiers liés aux périphériques
	:fichiers spéciaux des périphériques

/home 	#les dossiers des utilisateurs
	:répertoires personnels utilisateurs
/lib 	#les librairies et bibliothèque partagés pour le fonctionnement de l'OS et des applications
	:contient les bibliothèques partagées (équivalent au dll)
/sys	:fichier system comme les id attention cela peut être fatale
/run 	:information du système depuis son dernier démarrage service, utilisateurs actif…)
/tmp 	#le dossier temporaires
	:fichier temporaire
/var	#données variables fréquemment écrits.
	:données fréquemment réécrites données variables et diverses
/usr	#le répertoire des applications utilisateurs
	:logiciels installés avec le système
/root	#le dossier personnel de l'utilisateur root.
	:répertoire administrateur 
/mnt	#les répertoires utilisés pour monter temporairement un système de fichiers (disquette, cdrom...)
	:les répertoires utilisés pour monter temporairement un système de fichier (cd-rom…)
/lost+found	#les fragments des fichiers récupérés par fsck
/opt	#les applications installées depuis une autre source que les systèmes de packages de distribution.
	:ici on installe les logiciels commerciaux
/media	#contient les points de montages pour les médias amovibles
	:dossier périphérique
/srv	#les fichiers liés aux services
	:données pour les services du système
/proc	#répertoire virtuel aves les informations système (état du système, noyeau linux) basé sur procfs (process file system)

-------------------------------------------------------------------------------------------------------------------------

Linux stocke les périphériques matériels dans /dev
on retrouve les disques dur, disques amovibles et autres.
	. /dev/hda, /dev/hdb : disques dur IDE
	. /dev/sda, /dev/sdb : disque dur SATA
	. /dev/nvme0n1       : aux SSD NVMe


 


fichier config de grub: /boot/grub/grub.cfg

les fichiers images du kernel linux (noyau linux)
	. initrd (INITIAL RamDisk) contient les pilotes minimaux pour accéder au disque dur durant le démarrage du PC.
	. System.map : tableau de symbôle du noyau linux avec des adresses mémoires.
	. vmlinux c'est le fichier du noyau linux. 

fichiers /etc : les fichiers de configurations système ainsi que des applications.
		    on trouve un sous dossier par application
	. /etc/init.d et /etc/default  les fichiers liés aux deamons linux.
	. /etc/password, /etc/group, /etc/shadow les fichiers de configuration des utilisateur linux.
	. /etc/hosts  le fichier Hosts de linux
	. /etc/network dossier de configuration réseau. L'emplacement peut varier selon la distribution.
	. /etc/pam.conf et /etc/pam.d la configuration des services d'authentification à travers Linux Pluggable Authentication Module
	. /etc/sudoers et /etc/sudoers.d la configurationde sudo.
	. /etcsysctl.conf et /etc/sysctl.d les fichiers de configuration de démarrage du noyau linux.
	. /etc/resolv.conf la configuration des DNS linux

 fichier /dev  stocke les périphérique à travers udev qui est un gestionnaire de périphériques de linux.
               
 fichier /proc stocke les données du noyau que les applications peuvent utilisés
		   une configuration que l'on peut modifier directement mais pour une persistance
		   il faut modifier /etcsysctl.conf et /etc/sysctl.d ou utilise la commande sysctl
	. /proc/cpuinfo informations CPU lshw donne la configuration du cpu
	. /proc/meminfo information de mémoire commande top, freemem
	. /proc/net données liées à l'utilisation du réseau par protocole comande ifconfig iftop
	. /proc/diskstats et /proc/partitions l'état des disques et partitions de disque
	. /proc/swaps stocke les partition SWAP
	. /proc/PID les PID des applications 
	. /proc/sys/ paramètres du noyau
  
 fichier /usr  stocke les données des applications des utilisateurs
	. /usr/bin stocke les exécutables et binaires des applications.
	. /usr/lib le dossier des librairies utilisée par les applications
	. /usr/local les applicaitons compilées : la même structure de répertoire.
	. /usr/share dossier et fichiers qui peuvent être partagés à toutes les architectures  (i386, amd64 ...)
	. /usr/src les sources des applications que l'on peut compiler.

  fichier /var stocke les données variables
	. /var/log les journaux et logs du système et application.
	. /var/lock les fichiers LCK de verrous pour les ressources périphériques partagés.
	. /var/run fichiers liés aux applications en cours de fonctionnement
	. /var/mail les mails des utilisateurs
	. /var/cache dossier et fichiers caché comme apt peut y stocker les packages pour installer
		       ou mettre à jour le système et applications.comme man dans /var/cache/man.



		***************************************
			Système de fichier Unix
		***************************************
nfs  network file system
jfs  journalized file system
hfs+ système de fichier Mac OS X
ext2 système de fichier de linux
ext3 amélioration du format ext2
vfat système de fichier FAT 32
proc visualisation et manipulation des processus
fd   descripteurs de fichier (/dev/fd)

La liste des sytèmes de fichiers supportés par l'os:
/proc/filesystems et la commande fsck permet de vérifier et de réparer les système
de fichiers endommagés (cohérence entre fichiers présents et tables des inodes références vers les blocs de données...)
 
Sous UNIX tout est fichier: certains sont virtuels et ne correspondent à aucune partition.
ils servent de réprésentation logique à un aspect donné du système.
ils n'occupent aucune place sur le disque, et sont émulés dynamiquement à chaque accès par le noyau du système d'exploitation.

- proc processus actifs et leurs propriétés (arguments, répertoire de travail...) sous formes de fichiers.
- fd permet d'accéder aux descripteurs de fichiers pour simplifier la programmation car à l'intérieur des programmes ces descripteurs sont vus comme des fichiers.

Les inodes
-----------
	Tout fichier est avant tout stocké sous la forme d'un noeud d'index, ou inode, contenant l'ensemble des métainformations associées aux fichiers.
Ce noeud d'index comprend plusieurs pointeurs vers les zones du disque dur contenant le contenu du fichier sous forme de séquences de secteur linéaires: Si ces zones ne sont pas contigües, on parlera de fragmentation.
	Le noeud d'index ne contient pas le nom du fichier, mais un entier permettant de l'identifier de manière unique: plusieurs noms peuvent représenter des liens vers un même fichier comme les liens symboliques.

Les fichiers liens
------------------
il est possible d’avoir plusieurs noms dans différents répertoires pour un même fichier : 
Ces noms sont des identificateurs du fichier et ont le même numéro d’inode. 
Cette relation entre un numéro d’inode et un identificateur s’appelle un lien.
Tout fichier possède au minimum un lien. 
Lorsque le lien est établi dans le même système de fichiers le lien est dit simple 
(les droits sont les mêmes, fichiers et lien car c’est le même objet). 
Par contre un lien symbolique peut être mis dans un autre système de fichiers que le fichier d’origine : c’est un pointeur vers l’autre fichier, ses permissions seront indépendantes du fichier source.

Les fichiers spéciaux
---------------------
(b,c) associe un nom de fichier à un périphérique ou une communication clavier écran imprimante et sont stocké dans le répertoire /dev possèdent un inode mais pas de bloc de données et sont gérés par des interfaces d’accès à la ressource physique différents selon leur type.
ls -l /dev   #liste 2 imprimantes /major(driver)/mineur(imprimante)
crw--w---- 1 root lp1  6,1  .....
crw--w---- 1 root lp1  6,2  .....	
